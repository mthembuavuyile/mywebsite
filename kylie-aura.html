<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Kylie Aura ✨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        barbie: {
                            pink: '#FF5CA8',
                            lightPink: '#FFC0D9',
                            purple: '#7F4877',
                            blue: '#50C4F2',
                            yellow: '#FFE93E'
                        }
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'wiggle': 'wiggle 1s ease-in-out infinite',
                        'fly': 'fly 20s linear infinite',
                        'spin-slow': 'spin 8s linear infinite',
                        'bounce-slow': 'bounce 3s infinite',
                        'pulse-glow': 'pulseGlow 2s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        wiggle: {
                            '0%, 100%': { transform: 'rotate(-3deg)' },
                            '50%': { transform: 'rotate(3deg)' },
                        },
                        fly: {
                            '0%': { transform: 'translateX(-100%) translateY(0)' },
                            '25%': { transform: 'translateX(0%) translateY(50px)' },
                            '50%': { transform: 'translateX(100%) translateY(-50px)' },
                            '75%': { transform: 'translateX(200%) translateY(25px)' },
                            '100%': { transform: 'translateX(300%) translateY(0)' },
                        },
                        pulseGlow: {
                            '0%, 100%': { filter: 'drop-shadow(0 0 5px rgba(255,92,168,0.7))' },
                            '50%': { filter: 'drop-shadow(0 0 20px rgba(255,92,168,1))' },
                        }
                    }
                }
            },
            darkMode: 'class',
        }
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Pacifico&family=Quicksand:wght@400;600&display=swap');

        :root {
            --barbie-pink: #FF5CA8;
            --barbie-light-pink: #FFC0D9;
            --barbie-purple: #7F4877;
            --barbie-blue: #50C4F2;
            --barbie-yellow: #FFE93E;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            overflow-x: hidden;
            background-image: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
        }

        body.dark {
            background-image: radial-gradient(circle at 20% 20%, rgba(0, 0, 0, 0.2) 0%, transparent 100%);
        }

        .pacifico {
            font-family: 'Pacifico', cursive;
        }

        .dancing {
            font-family: 'Dancing Script', cursive;
        }

        .plane-path {
            position: absolute;
            width: 100%;
            height: 100px;
            z-index: 0;
        }

        .donut {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            position: relative;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .donut:hover {
            transform: scale(1.2) rotate(10deg) !important;
            box-shadow: 0 0 15px rgba(255, 92, 168, 0.7);
            z-index: 10;
        }

        .donut::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 22px;
            height: 22px;
            background-color: white;
            border-radius: 50%;
        }

        .dark .donut::before {
            background-color: #1e1e1e;
        }

        .donut-sprinkle {
            width: 8px;
            height: 3px;
            position: absolute;
            border-radius: 3px;
        }

        #envelope {
            cursor: pointer;
            transition: transform 0.3s, filter 0.3s;
        }

        #envelope:hover {
            transform: scale(1.1) translateY(-5px);
            filter: drop-shadow(0 0 8px rgba(255, 92, 168, 0.7));
        }

        #message-box {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }

        .clouds {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
        }

        .cloud {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: cloud-float linear infinite;
        }

        .dark .cloud {
            background-color: rgba(50, 50, 50, 0.5);
        }

        @keyframes cloud-float {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        .heart {
            position: absolute;
            color: var(--barbie-pink);
            animation: float-down linear forwards;
            opacity: 0;
            z-index: 100;
        }

        @keyframes float-down {
            0% {
                transform: translateY(-20px);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translateY(calc(100vh + 30px));
                opacity: 0;
            }
        }

        #pet-playground, #pet-playground2, #pet-playground3 {
            cursor: pointer;
            perspective: 1000px;
        }

        .pet-card {
            position: relative;
            width: 150px;
            height: 150px;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .pet-front, .pet-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .pet-back {
            transform: rotateY(180deg);
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .shine-effect {
            position: relative;
            overflow: hidden;
        }

        .shine-effect::after {
            content: '';
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: linear-gradient(135deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%);
            transform: rotate(45deg);
            animation: shine 3s ease-in-out infinite;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            20%, 100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            filter: blur(1px);
            animation: twinkle 2s ease-in-out infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        .custom-gradient {
            background: linear-gradient(135deg, var(--barbie-blue) 0%, var(--barbie-purple) 100%);
        }

        .dark .custom-gradient {
            background: linear-gradient(135deg, var(--barbie-purple) 0%, var(--barbie-blue) 100%);
        }

        /* Flight path animation */
        .flight-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: dash 10s linear forwards infinite;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: 0;
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--barbie-light-pink);
            border-radius: 10px;
        }

        .dark ::-webkit-scrollbar-thumb {
            background: var(--barbie-purple);
        }

        /* Music player controls */
        .music-control {
            transition: all 0.3s ease;
        }

        .music-control:hover {
            transform: scale(1.2);
            color: var(--barbie-pink);
        }

        /* 3D Card effect */
        .card-3d {
            transition: transform 0.5s ease;
            transform-style: preserve-3d;
        }

        /* Polaroid gallery */
        .polaroid {
            background: white;
            padding: 10px 10px 30px 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transform: rotate(var(--rotation));
            transition: all 0.3s ease;
        }

        .polaroid:hover {
            transform: scale(1.05) rotate(calc(var(--rotation) * 0.7));
            z-index: 10;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            opacity: 0;
            animation: confetti-fall linear forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 100px)) rotate(720deg);
                opacity: 0;
            }
        }

        /* Paper plane animation */
        @keyframes paper-plane-flight {
            0% {
                transform: translate(0, 0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            30% {
                transform: translate(30vw, -10vh) rotate(10deg);
            }
            50% {
                transform: translate(50vw, -5vh) rotate(-5deg);
            }
            70% {
                transform: translate(70vw, -15vh) rotate(15deg);
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translate(100vw, -10vh) rotate(5deg);
                opacity: 0;
            }
        }

        .paper-plane-animation {
            animation: paper-plane-flight 15s linear infinite;
            position: absolute;
            left: -100px;
            top: 50%;
        }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 transition-colors duration-300">
    <!-- Color mode toggle -->
    <button id="dark-mode-toggle" class="fixed top-4 right-4 bg-barbie-blue dark:bg-barbie-purple text-white p-3 rounded-full z-50 shadow-lg hover:scale-110 transition-all duration-300">
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:block"></i>
    </button>

    <!-- Audio player -->
    <div class="fixed bottom-4 right-4 bg-white dark:bg-gray-800 p-3 rounded-full shadow-lg z-50 flex items-center space-x-2">
        <button id="play-music" class="music-control text-barbie-purple dark:text-barbie-pink">
            <i class="fas fa-play"></i>
        </button>
        <button id="pause-music" class="music-control text-barbie-purple dark:text-barbie-pink hidden">
            <i class="fas fa-pause"></i>
        </button>
        <div class="text-xs text-barbie-purple dark:text-barbie-pink font-medium">Music</div>
        <audio id="background-music" loop>
            <source src="" type="audio/mpeg">
        </audio>
    </div>

    <!-- Decorative paper plane -->
    <div class="paper-plane-animation z-10">
        <i class="fas fa-paper-plane text-4xl text-barbie-blue dark:text-barbie-pink"></i>
    </div>

    <!-- Decorative clouds -->
    <div class="clouds"></div>

    <!-- Starry sky background for dark mode -->
    <div id="stars-container" class="fixed inset-0 hidden dark:block z-0"></div>

    <!-- Main container -->
    <div class="container mx-auto px-4 pt-8 pb-32 relative z-10">
        <!-- Header -->
        <div class="text-center mb-12 animate__animated animate__fadeIn">
            <h1 class="pacifico text-5xl md:text-7xl text-barbie-pink dark:text-barbie-lightPink mb-2 animate-pulse-glow">
                Hi Lethu!
            </h1>
            <h2 class="dancing text-2xl md:text-4xl text-barbie-purple dark:text-barbie-blue font-semibold animate-float">
                (aka Kylie Aura ✨)
            </h2>
            <div class="mt-4 flex justify-center">
                <div class="bg-barbie-lightPink dark:bg-barbie-purple px-4 py-2 rounded-full inline-block">
                    <p class="text-barbie-purple dark:text-barbie-lightPink">Something thoughtful, just for you</p> <!-- Changed wording to "thoughtful" -->
                </div>
            </div>
        </div>

        <!-- Flying plane -->
        <div class="plane-path mt-8 mb-16">
            <div id="airplane" class="absolute animate-fly">
                <i class="fas fa-plane text-5xl text-barbie-blue dark:text-barbie-lightPink transform -rotate-12"></i>
            </div>
        </div>

        <!-- Main content -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
            <!-- Left column -->
            <div class="space-y-8 animate__animated animate__fadeInLeft animate__delay-1s">
                <!-- Interactive message envelope -->
                <div class="bg-gradient-to-br from-barbie-lightPink to-barbie-pink dark:from-barbie-purple dark:to-barbie-blue p-6 rounded-lg shadow-lg transform transition hover:scale-102 shine-effect">
                    <div id="envelope" class="text-center mb-4">
                        <i class="fas fa-envelope-open-heart text-5xl text-white"></i>
                        <p class="text-white mt-2 font-medium">Click to open</p>
                    </div>
                    <div id="message-box" class="bg-white dark:bg-gray-800 p-6 rounded-md shadow-inner">
                        <p class="text-2xl dancing text-barbie-purple dark:text-barbie-lightPink mb-3">Dear Lethu,</p>
                        <p class="my-2 text-gray-800 dark:text-gray-200 leading-relaxed">I created this page just for you, a small digital gift to brighten your day.</p>
                        <p class="my-2 text-gray-800 dark:text-gray-200 leading-relaxed">I admire your passion for aviation. The determination you show in pursuing your dreams is inspiring. Like the planes you're studying, you were meant to soar!</p>
                        <p class="my-2 text-gray-800 dark:text-gray-200 leading-relaxed">I look forward to sharing more moments and getting to know you better and everything that makes you uniquely you. You're someone truly special.</p>
                        <p class="mt-4 dancing text-xl text-barbie-purple dark:text-barbie-lightPink">Best wishes,</p>
                        <p class="dancing text-xl text-barbie-purple dark:text-barbie-lightPink">MR A CEO</p>
                    </div>
                </div>

                <!-- Polaroid gallery -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <h3 class="text-2xl text-barbie-purple dark:text-barbie-blue mb-6 text-center dancing">Moments to Appreciate</h3> 
                    <div class="flex flex-wrap justify-center gap-6">
                        <div class="polaroid" style="--rotation: -5deg;">
                            <div class="h-36 w-40 bg-barbie-lightPink dark:bg-barbie-purple rounded overflow-hidden flex items-center justify-center">
                                <i class="fas fa-plane-departure text-4xl text-barbie-purple dark:text-barbie-lightPink"></i>
                            </div>
                            <p class="text-center mt-3 text-sm text-barbie-purple dark:text-barbie-blue font-medium">Flights</p>
                        </div>
                        <div class="polaroid" style="--rotation: 3deg;">
                            <div class="h-36 w-40 bg-barbie-blue dark:bg-barbie-blue rounded overflow-hidden flex items-center justify-center">
                                <i class="fas fa-music text-4xl text-white"></i>
                            </div>
                            <p class="text-center mt-3 text-sm text-barbie-purple dark:text-barbie-blue font-medium">Melodious voice</p>
                        </div>
                        <div class="polaroid" style="--rotation: -2deg;">
                            <div class="h-36 w-40 bg-barbie-yellow dark:bg-barbie-pink rounded overflow-hidden flex items-center justify-center">
                                <i class="fas fa-smile-beam text-4xl text-barbie-purple dark:text-white"></i> <!-- Changed heart to smile-beam -->
                            </div>
                            <p class="text-center mt-3 text-sm text-barbie-purple dark:text-barbie-blue font-medium">Positive Vibes</p> <!-- Changed "Special memories ahead" to "Positive Vibes" -->
                        </div>
                    </div>
                </div>

                <!-- Pet cards - interactive element -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-transform duration-300 hover:shadow-xl">
                    <h3 class="text-2xl dancing text-barbie-purple dark:text-barbie-blue mb-4 text-center">Cute Animals for You</h3>
                    <p class="text-center mb-4 text-gray-600 dark:text-gray-300">Tap to meet some adorable friends!</p>
                    <div class="flex flex-wrap justify-center gap-6">
                        <div id="pet-playground" class="card-3d">
                            <div class="pet-card">
                                <div class="pet-front bg-barbie-lightPink flex items-center justify-center">
                                    <i class="fas fa-paw text-4xl text-barbie-purple"></i>
                                </div>
                                <div class="pet-back bg-barbie-purple">
                                    <i class="fas fa-cat text-6xl text-white animate-bounce-slow"></i>
                                </div>
                            </div>
                        </div>
                        <div id="pet-playground2" class="card-3d">
                            <div class="pet-card">
                                <div class="pet-front bg-barbie-blue flex items-center justify-center">
                                    <i class="fas fa-paw text-4xl text-white"></i>
                                </div>
                                <div class="pet-back bg-barbie-lightPink">
                                    <i class="fas fa-dog text-6xl text-barbie-purple animate-bounce-slow"></i>
                                </div>
                            </div>
                        </div>
                        <div id="pet-playground3" class="card-3d">
                            <div class="pet-card">
                                <div class="pet-front bg-barbie-yellow flex items-center justify-center">
                                    <i class="fas fa-paw text-4xl text-barbie-purple"></i>
                                </div>
                                <div class="pet-back bg-barbie-pink">
                                    <i class="fas fa-fish text-6xl text-white animate-bounce-slow"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right column -->
            <div class="space-y-8 animate__animated animate__fadeInRight animate__delay-1s">
                <!-- Donut section with improved interactions -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl">
                    <h3 class="text-2xl dancing text-barbie-purple dark:text-barbie-blue mb-4 text-center">Donut Wonderland</h3>
                    <div class="flex flex-wrap justify-center gap-4">
                        <div class="donut bg-barbie-pink animate-spin-slow">
                            <!-- Sprinkles will be added with JS -->
                        </div>
                        <div class="donut bg-barbie-blue animate-spin-slow" style="animation-delay: 0.5s">
                            <!-- Sprinkles will be added with JS -->
                        </div>
                        <div class="donut bg-barbie-yellow animate-spin-slow" style="animation-delay: 1s">
                            <!-- Sprinkles will be added with JS -->
                        </div>
                        <div class="donut bg-barbie-purple animate-spin-slow" style="animation-delay: 1.5s">
                            <!-- Sprinkles will be added with JS -->
                        </div>
                    </div>
                    <p class="text-center mt-4 text-gray-600 dark:text-gray-300">Sweet treats</p> <!-- Changed "too sweet" to "Sweet treats" - more general -->
                </div>

                <!-- Aviation dream section - improved with SVG path -->
                <div class="custom-gradient p-6 rounded-lg shadow-lg transition-all duration-300 hover:shadow-xl">
                    <h3 class="text-2xl dancing text-white mb-4 text-center">Reach for the Skies</h3>
                    <div class="relative h-60 overflow-hidden bg-gradient-to-b from-blue-200 to-blue-400 dark:from-gray-800 dark:to-blue-900 rounded-lg mb-4">
                        <!-- SVG Flight Path -->
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                            <path class="flight-path" d="M 10,100 C 80,50 160,150 390,80" stroke="white" stroke-width="2" fill="none" stroke-dasharray="5,5" stroke-opacity="0.7"/>
                        </svg>

                        <!-- Sky animation -->
                        <div id="sky-animation" class="w-full h-full">
                            <!-- Stars will be added with JS -->
                            <div id="aviation-plane" class="absolute bottom-4 left-4 cursor-pointer transition-all duration-500 ease-in-out">
                                <i class="fas fa-plane text-3xl text-barbie-pink transform rotate-45"></i>
                            </div>
                        </div>
                    </div>
                    <p class="text-white text-center">Your aviation journey is inspiring! ✈️</p>
                    <p class="text-white text-center mt-2">Click the stars to navigate!</p> <!-- Changed "Double tap" to "Click" for general interaction -->
                </div>

                <!-- Interactive Quote Generator -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <h3 class="text-2xl dancing text-barbie-purple dark:text-barbie-blue mb-4 text-center">Inspirational Thoughts</h3>
                    <div id="quote-display" class="bg-barbie-lightPink dark:bg-barbie-purple p-4 rounded-lg text-center mb-4">
                        <p id="quote-text" class="italic text-barbie-purple dark:text-white">"The sky is not the limit, it's just the beginning of your journey."</p>
                    </div>
                    <button id="new-quote" class="w-full bg-barbie-blue hover:bg-barbie-purple text-white py-2 px-4 rounded-lg transition duration-300 flex items-center justify-center">
                        <i class="fas fa-random mr-2"></i> New Inspiration
                    </button>
                </div>
            </div>
        </div>

        <!-- Interactive heart button -->
        <div class="text-center mt-12 animate__animated animate__fadeInUp animate__delay-2s">
            <button id="heart-btn" class="bg-barbie-pink hover:bg-barbie-purple dark:bg-barbie-purple dark:hover:bg-barbie-pink text-white py-4 px-8 rounded-full shadow-lg transform transition hover:scale-105 hover:rotate-3">
                <i class="fas fa-heart mr-2"></i> Send a Smile <!-- Changed "Sending Some Love" to "Send a Smile" -->
            </button>
            <p class="text-barbie-purple dark:text-barbie-blue mt-2 text-sm">Click</p>
        </div>

        <!-- Connection section -->
        <div class="mt-16 text-center animate__animated animate__fadeIn animate__delay-3s">
            <div class="inline-block bg-white dark:bg-gray-800 px-8 py-4 rounded-lg shadow-lg">
                <h3 class="text-2xl dancing text-barbie-purple dark:text-barbie-blue mb-2">Sincerely</h3>
                <p class="text-gray-700 dark:text-gray-300">MR A CEO</p>
                <div class="flex justify-center mt-4 space-x-4">
                    <div class="bg-barbie-lightPink dark:bg-barbie-purple p-3 rounded-full">
                        <i class="fas fa-coffee text-barbie-purple dark:text-white text-xl"></i>
                    </div>
                    <div class="bg-barbie-blue dark:bg-barbie-blue p-3 rounded-full">
                        <i class="fas fa-star text-white text-xl"></i>
                    </div>
                    <div class="bg-barbie-yellow dark:bg-barbie-pink p-3 rounded-full">
                        <i class="fas fa-heart text-barbie-purple dark:text-white text-xl"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Dark mode toggle
        const darkModeToggle = document.getElementById('dark-mode-toggle');

        // Check for user's preferred color scheme
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
            document.body.classList.add('dark');
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
                document.body.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
                document.body.classList.remove('dark');
            }
        });

        darkModeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            document.body.classList.toggle('dark');
        });

        // Create stars for dark mode background
        const starsContainer = document.getElementById('stars-container');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.classList.add('star');

            // Random size
            const size = 1 + Math.random() * 3;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;

            // Random position
            const top = Math.random() * 100;
            const left = Math.random() * 100;
            star.style.top = `${top}%`;
            star.style.left = `${left}%`;

            // Random twinkle animation
            const delay = Math.random() * 5;
            star.style.animationDelay = `${delay}s`;

            starsContainer.appendChild(star);
        }

        // Envelope interaction with improved animations
        const envelope = document.getElementById('envelope');
        const messageBox = document.getElementById('message-box');
        let messageOpen = false;

        envelope.addEventListener('click', () => {
            if (!messageOpen) {
                envelope.innerHTML = '<i class="fas fa-envelope-open text-5xl text-white animate__animated animate__tada"></i><p class="text-white mt-2 font-medium">Close message</p>';
                messageBox.style.maxHeight = messageBox.scrollHeight + "px";
                messageOpen = true;

                // Trigger confetti for message opening
                createConfetti(20);
            } else {
                envelope.innerHTML = '<i class="fas fa-envelope-open-heart text-5xl text-white"></i><p class="text-white mt-2 font-medium">Click to open a special message</p>';
                messageBox.style.maxHeight = "0";
                messageOpen = false;
            }
        });

        // Pet card interactions with improved 3D effect
        document.querySelectorAll('[id^="pet-playground"]').forEach(playground => {
            playground.addEventListener('click', () => {
                const card = playground.querySelector('.pet-card');
                card.classList.toggle('flipped');

                // Add a fun sound effect
                const flip = new Audio();
                flip.volume = 0.2;
                flip.play();

                // Create mini confetti
                if (card.classList.contains('flipped')) {
                    createConfetti(5, playground.getBoundingClientRect());
                }
            });
        });

        // Add sprinkles to donuts with improved visuals
        const donuts = document.querySelectorAll('.donut');
        const sprinkleColors = ['#FF5CA8', '#50C4F2', '#FFE93E', '#7F4877', '#FFFFFF', '#FF9A3E'];

        donuts.forEach(donut => {
            // Add more sprinkles to each donut
            for (let i = 0; i < 15; i++) {
                const sprinkle = document.createElement('div');
                sprinkle.classList.add('donut-sprinkle');

                // Random position
                const angle = Math.random() * 360;
                const distance = 15 + Math.random() * 12;
                const x = Math.cos(angle * Math.PI / 180) * distance;
                const y = Math.sin(angle * Math.PI / 180) * distance;

                // Random color
                const color = sprinkleColors[Math.floor(Math.random() * sprinkleColors.length)];

                // Random rotation
                const rotation = Math.random() * 360;

                sprinkle.style.backgroundColor = color;
                sprinkle.style.top = `calc(50% + ${y}px)`;
                sprinkle.style.left = `calc(50% + ${x}px)`;
                sprinkle.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;

                donut.appendChild(sprinkle);
            }

            // Enhanced hover effect for donuts
            donut.addEventListener('mouseenter', createDonutEffect);
            donut.addEventListener('touchstart', createDonutEffect);
        });

        function createDonutEffect(e) {
            // Prevent multiple triggers on touch devices
            e.preventDefault();

            // Create multiple hearts in a burst pattern
            for (let i = 0; i < 8; i++) {
                const heart = document.createElement('i');
                heart.classList.add('fas', 'fa-heart', 'text-xl', 'absolute');

                // Position at the center of the donut
                const rect = this.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;

                heart.style.top = `${centerY}px`;
                heart.style.left = `${centerX}px`;
                heart.style.zIndex = "50";

                // Create a burst effect
                const angle = (i / 8) * 2 * Math.PI;
                const distance = 50;
                const targetX = centerX + Math.cos(angle) * distance;
                const targetY = centerY + Math.sin(angle) * distance;

                document.body.appendChild(heart);

                // Animate each heart
                heart.animate([
                    { transform: 'scale(0) translate(0, 0)', opacity: 0 },
                    { transform: `scale(1) translate(${Math.cos(angle) * distance / 2}px, ${Math.sin(angle) * distance / 2}px)`, opacity: 1 },
                    { transform: `scale(0) translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`, opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                });

                // Remove heart after animation
                setTimeout(() => {
                    heart.remove();
                }, 1000);
            }
        }

        // Create clouds with improved visuals
        const cloudsContainer = document.querySelector('.clouds');
        for (let i = 0; i < 15; i++) {
            createCloud();
        }

        function createCloud() {
            const cloud = document.createElement('div');
            cloud.classList.add('cloud');

            // Create cloud cluster for more realistic shape
            const baseSize = 40 + Math.random() * 100;
            cloud.style.width = `${baseSize}px`;
            cloud.style.height = `${baseSize}px`;

            // Add smaller cloud puffs
            for (let i = 0; i < 3; i++) {
                const puff = document.createElement('div');
                puff.style.position = 'absolute';
                puff.style.backgroundColor = 'inherit';
                puff.style.borderRadius = '50%';

                const puffSize = baseSize * (0.6 + Math.random() * 0.4);
                puff.style.width = `${puffSize}px`;
                puff.style.height = `${puffSize}px`;

                const angle = Math.random() * 360;
                const distance = baseSize * 0.3;
                puff.style.top = `${Math.sin(angle) * distance}px`;
                puff.style.left = `${Math.cos(angle) * distance}px`;

                cloud.appendChild(puff);
            }

            // Random position
            const top = Math.random() * 100;
            cloud.style.top = `${top}%`;

            // Random speed
            const duration = 60 + Math.random() * 80;
            cloud.style.animationDuration = `${duration}s`;

            // Random delay
            const delay = Math.random() * 30;
            cloud.style.animationDelay = `-${delay}s`;

            cloudsContainer.appendChild(cloud);
        }

        // Heart button functionality with enhanced animations
        const heartBtn = document.getElementById('heart-btn');

        heartBtn.addEventListener('click', () => {
            // Visual feedback for button
            heartBtn.classList.add('animate__animated', 'animate__heartBeat');
            setTimeout(() => {
                heartBtn.classList.remove('animate__animated', 'animate__heartBeat');
            }, 1000);

            // Create heart shower - reduced hearts for less intensity
            for (let i = 0; i < 15; i++) { // Reduced from 30 to 15
                setTimeout(() => {
                    createFallingHeart();
                }, i * 100);
            }

            // Create confetti burst
            createConfetti(50);
        });

        function createFallingHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');

            // Randomly choose heart style - removed heart-pulse for less romantic connotation
            const heartTypes = ['heart', 'heart-circle', 'heart-crack']; // Removed 'heart-pulse'
            const heartType = heartTypes[Math.floor(Math.random() * heartTypes.length)];
            heart.innerHTML = `<i class="fas fa-${heartType}"></i>`;

            // Random size
            const size = 1 + Math.random() * 2;
            heart.style.fontSize = `${size}rem`;

            // Random position
            const left = Math.random() * 100;
            heart.style.left = `${left}%`;

            // Random animation duration
            const duration = 6 + Math.random() * 7;
            heart.style.animationDuration = `${duration}s`;

            // Random horizontal drift
            const drift = Math.random() * 100 - 50;
            heart.animate([
                { transform: 'translateX(0) rotate(0deg)' },
                { transform: `translateX(${drift}px) rotate(${drift/2}deg)` }
            ], {
                duration: duration * 1000,
                easing: 'ease-in-out',
                fill: 'forwards'
            });

            document.body.appendChild(heart);

            // Remove heart after animation completes
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }

        // Create confetti function
        function createConfetti(amount, boundingRect = null) {
            const colors = ['#FF5CA8', '#FFC0D9', '#7F4877', '#50C4F2', '#FFE93E'];

            for (let i = 0; i < amount; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');

                // Random shape (square or circle)
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';

                // Random size
                const size = 5 + Math.random() * 10;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;

                // Random color
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

                // Position - either from button or from provided rect
                let startX, startY;

                if (boundingRect) {
                    startX = boundingRect.left + boundingRect.width / 2;
                    startY = boundingRect.top + boundingRect.height / 2;
                } else {
                    const btnRect = heartBtn.getBoundingClientRect();
                    startX = btnRect.left + btnRect.width / 2;
                    startY = btnRect.top + btnRect.height / 2;
                }

                confetti.style.left = `${startX}px`;
                confetti.style.top = `${startY}px`;

                // Random horizontal drift
                const horizontalDrift = -50 + Math.random() * 100;

                // Animation duration
                const duration = 1 + Math.random() * 3;
                confetti.style.animationDuration = `${duration}s`;

                // Custom animation
                confetti.animate([
                    { transform: 'translateY(0) translateX(0) rotate(0deg)', opacity: 1 },
                    { opacity: 1, offset: 0.7 },
                    { transform: `translateY(${window.innerHeight}px) translateX(${horizontalDrift}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
                ], {
                    duration: duration * 1000,
                    easing: 'cubic-bezier(0.215, 0.610, 0.355, 1.000)',
                    fill: 'forwards'
                });

                document.body.appendChild(confetti);

                // Remove after animation
                setTimeout(() => {
                    confetti.remove();
                }, duration * 1000);
            }
        }

        // Sky animation and interactive plane with improved experience
        const skyAnimation = document.getElementById('sky-animation');
        const aviationPlane = document.getElementById('aviation-plane');

        // Add stars to the sky with improved visuals
        for (let i = 0; i < 40; i++) {
            const star = document.createElement('div');
            star.classList.add('absolute');

            // Random position
            const top = Math.random() * 100;
            const left = Math.random() * 100;
            star.style.top = `${top}%`;
            star.style.left = `${left}%`;

            // Choose between different star styles
            const starTypes = ['fa-star', 'fa-sparkle', 'fa-stars'];
            const starType = starTypes[Math.floor(Math.random() * starTypes.length)];

            // Star appearance
            star.innerHTML = `<i class="fas ${starType} text-yellow-300 opacity-70"></i>`;

            // Random size
            const size = 0.5 + Math.random() * 0.5;
            star.style.fontSize = `${size}rem`;

            // Random twinkle animation
            const animationDuration = 2 + Math.random() * 4;
            star.style.animation = `pulse ${animationDuration}s infinite alternate`;

            skyAnimation.appendChild(star);
        }

        // Make the aviation plane move to cursor position with trail effect
        let planeTrail = [];
        skyAnimation.addEventListener('click', (e) => {
            const rect = skyAnimation.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            // Calculate angle based on movement direction
            const currentX = parseFloat(aviationPlane.style.left) || rect.width * 0.1;
            const currentY = parseFloat(aviationPlane.style.top) || rect.height * 0.8;
            const angle = Math.atan2(y - currentY, x - currentX) * 180 / Math.PI;

            // Add trail effect
            const trail = document.createElement('div');
            trail.classList.add('absolute', 'opacity-30');
            trail.innerHTML = '<i class="fas fa-circle text-barbie-pink dark:text-barbie-blue text-xs"></i>';
            trail.style.left = `${currentX}px`;
            trail.style.top = `${currentY}px`;

            skyAnimation.appendChild(trail);
            planeTrail.push(trail);

            // Fade out trail elements
            setTimeout(() => {
                trail.classList.add('opacity-0', 'transition-opacity', 'duration-1000');
                setTimeout(() => {
                    trail.remove();
                    planeTrail.shift();
                }, 1000);
            }, 100);

            // Move plane
            aviationPlane.style.transition = 'all 1.5s cubic-bezier(0.25, 0.1, 0.25, 1)';
            aviationPlane.style.left = `${x}px`;
            aviationPlane.style.top = `${y}px`;
            aviationPlane.style.transform = `rotate(${angle}deg)`;

            // Create small burst at destination
            setTimeout(() => {
                const burst = document.createElement('div');
                burst.classList.add('absolute');
                burst.style.left = `${x}px`;
                burst.style.top = `${y}px`;
                burst.innerHTML = '<i class="fas fa-sparkles text-barbie-yellow text-sm"></i>';

                skyAnimation.appendChild(burst);

                burst.animate([
                    { transform: 'scale(0)', opacity: 0 },
                    { transform: 'scale(1.5)', opacity: 1 },
                    { transform: 'scale(1)', opacity: 0 }
                ], {
                    duration: 1000,
                    easing: 'ease-out'
                });

                setTimeout(() => {
                    burst.remove();
                }, 1000);
            }, 1500);
        });

        // Background music controls
        const playButton = document.getElementById('play-music');
        const pauseButton = document.getElementById('pause-music');
        const backgroundMusic = document.getElementById('background-music');

        playButton.addEventListener('click', () => {
            backgroundMusic.play().then(() => {
                playButton.classList.add('hidden');
                pauseButton.classList.remove('hidden');
            }).catch(error => {
                console.log("Audio couldn't play automatically: ", error);
            });
        });

        pauseButton.addEventListener('click', () => {
            backgroundMusic.pause();
            pauseButton.classList.add('hidden');
            playButton.classList.remove('hidden');
        });

        // Inspirational quotes generator
        const quotes = [
            "The sky is not the limit, it's just the beginning of your journey.",
            "Dreams take flight when you believe in yourself.",
            "Your ambition is as boundless as the sky you love.",
            "Like a plane rising through clouds, you'll overcome every obstacle.",
            "You have the wings to soar above any challenge that comes your way."
        ];

        const quoteButton = document.getElementById('new-quote');
        const quoteText = document.getElementById('quote-text');

        quoteButton.addEventListener('click', () => {
            // Get random quote that's different from current
            let newQuote;
            do {
                newQuote = quotes[Math.floor(Math.random() * quotes.length)];
            } while (newQuote === quoteText.textContent);

            // Fade out, change text, fade in
            quoteText.style.opacity = '0';
            quoteText.style.transition = 'opacity 0.5s';

            setTimeout(() => {
                quoteText.textContent = `"${newQuote}"`;
                quoteText.style.opacity = '1';
            }, 500);

            // Button animation
            quoteButton.classList.add('animate__animated', 'animate__pulse');
            setTimeout(() => {
                quoteButton.classList.remove('animate__animated', 'animate__pulse');
            }, 1000);
        });

        // Page load animations
        window.addEventListener('DOMContentLoaded', () => {
            // Trigger initial animations
            setTimeout(() => {
                createConfetti(15);
            }, 2000);
        });
    </script>
</body>
</html>
