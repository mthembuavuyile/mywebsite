<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Basic Meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>For My Angel - Nosipho ‚ù§Ô∏è</title>

    <!-- SEO Description -->
    <meta name="description" content="A private digital love letter filled with memories, moments, and the future still waiting to be written. Built just for Nosipho ‚ù§Ô∏è">

    <!-- Open Graph / Social Preview -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="For My Angel ‚Äî Nosipho ‚ù§Ô∏è">
    <meta property="og:description" content="A timeline of us, our first moments, and the days still waiting ahead. Every click is another reminder that this story is only beginning.">
    <meta property="og:url" content="https://avuyilemthembu.co.za/babe">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="For My Angel ‚Äî Nosipho ‚ù§Ô∏è">
    <meta name="twitter:description" content="A private digital keepsake made from love, time, and the days we haven‚Äôt lived yet.">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Nunito:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Animation & 3D Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <!-- Styles -->
    <style>

        :root {
            --primary: #ff4d6d;
            --primary-dark: #c9184a;
            --bg-dark: #0f0c29;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-light: #ececec;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: #000;
            color: var(--text-light);
            font-family: 'Nunito', sans-serif;
            overflow: hidden;
            /* Prevent scrolling on the main container */
            height: 100vh;
            width: 100vw;
        }

        /* --- LAYER MANAGEMENT --- */
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: opacity 0.8s ease, visibility 0.8s;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        .hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* --- BACKGROUND CANVAS (The 3D Heart) --- */
        #world {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            /* Behind everything */
            background: radial-gradient(circle at center, #2b1055 0%, #000 100%);
        }

        /* --- SCENE 1: NOTIFICATION --- */
        #scene-notification {
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .notif-card {
            background: rgba(255, 255, 255, 0.95);
            width: 90%;
            max-width: 380px;
            border-radius: 20px;
            padding: 15px;
            color: #000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: slideDown 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .notif-header {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .notif-content h3 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .notif-content p {
            font-size: 15px;
            color: #333;
            margin-bottom: 15px;
        }

        .notif-btn {
            background: var(--primary);
            color: white;
            border: none;
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
        }

        /* --- SCENE 2: GIFT BOX --- */
        #scene-gift {
            z-index: 90;
            perspective: 1000px;
        }

        .instruction {
            position: absolute;
            bottom: 20%;
            color: rgba(255, 255, 255, 0.6);
            letter-spacing: 2px;
            text-transform: uppercase;
            font-size: 12px;
            animation: pulse 2s infinite;
        }

        .cube-container {
            width: 150px;
            height: 150px;
            transform-style: preserve-3d;
            animation: float 6s ease-in-out infinite;
            cursor: pointer;
        }

        .cube-face {
            position: absolute;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border: 2px solid rgba(255, 255, 255, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
        }

        .face-front {
            transform: rotateY(0deg) translateZ(75px);
        }

        .face-back {
            transform: rotateY(180deg) translateZ(75px);
        }

        .face-right {
            transform: rotateY(90deg) translateZ(75px);
        }

        .face-left {
            transform: rotateY(-90deg) translateZ(75px);
        }

        .face-top {
            transform: rotateX(90deg) translateZ(75px);
            background: #ff8fa3;
        }

        .face-bottom {
            transform: rotateX(-90deg) translateZ(75px);
        }

        .ribbon-v {
            position: absolute;
            width: 30px;
            height: 100%;
            background: #fff;
            left: 60px;
        }

        .ribbon-h {
            position: absolute;
            width: 100%;
            height: 30px;
            background: #fff;
            top: 60px;
        }

        /* --- SCENE 3: DASHBOARD (HUB) --- */
        #scene-dashboard {
            z-index: 80;
        }

        .main-title {
            font-family: 'Great Vibes', cursive;
            font-size: 3.5rem;
            text-shadow: 0 0 20px var(--primary);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 40px;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            width: 90%;
            max-width: 400px;
        }

        .menu-card {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            padding: 30px 10px;
            border-radius: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: 0.3s;
        }

        .menu-card:active {
            transform: scale(0.95);
            background: rgba(255, 77, 109, 0.2);
        }

        .menu-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .menu-text {
            font-weight: bold;
            font-size: 1.1rem;
        }

        /* --- SCENE 4: CALENDAR --- */
        #scene-calendar {
            z-index: 85;
            overflow-y: auto;
            display: block;
            padding-top: 80px;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 200;
        }

        .cal-container {
            width: 90%;
            max-width: 400px;
            margin: 0 auto 50px auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            padding: 20px;
            color: #333;
        }

        .cal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .cal-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            text-align: center;
        }

        .cal-day-name {
            color: var(--primary);
            font-weight: bold;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .cal-day {
            aspect-ratio: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            position: relative;
        }

        .has-event {
            background: rgba(255, 77, 109, 0.1);
            color: var(--primary);
            border: 1px solid var(--primary);
            cursor: pointer;
        }

        .has-event::after {
            content: '';
            position: absolute;
            bottom: 4px;
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
        }

        /* Event Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 300;
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
        }

        .modal.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-card {
            background: white;
            width: 85%;
            max-width: 350px;
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            color: #333;
            transform: scale(0.8);
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .modal.active .modal-card {
            transform: scale(1);
        }

        /* --- SCENE 5: GALLERY --- */
        #scene-gallery {
            z-index: 85;
        }

        .gallery-card {
            width: 85%;
            max-width: 350px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 20px;
            text-align: center;
        }

        .polaroid {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 4px solid rgba(255, 255, 255, 0.1);
        }

        .type-text {
            min-height: 60px;
            font-style: italic;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .next-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 0 15px var(--primary);
            cursor: pointer;
        }

        .future-note {
            width: 90%;
            max-width: 400px;
            margin: 16px auto 90px auto;
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.22);
            border-radius: 22px;
            padding: 18px 16px;
            backdrop-filter: blur(14px);
            text-align: center;
            opacity: 0.95;
        }

        .note-title {
            font-family: 'Great Vibes', cursive;
            font-size: 2.2rem;
            color: #fff;
            text-shadow: 0 0 18px rgba(255, 77, 109, 0.6);
            margin-bottom: 10px;
        }

        .note-text {
            font-size: 0.95rem;
            line-height: 1.65;
            color: rgba(255, 255, 255, 0.92);
        }

        .hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }


        /* --- ANIMATIONS --- */
        @keyframes slideDown {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotateX(-20deg) rotateY(45deg);
            }

            50% {
                transform: translateY(-20px) rotateX(-20deg) rotateY(45deg);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <audio id="bg-music" loop>
        <source src="assets/audio/wena-sithandwa-sami.mp3" type="audio/mpeg">
    </audio>

    <canvas id="world"></canvas>

    <div id="scene-notification" class="layer">
        <div class="notif-card">
            <div class="notif-header">
                <div><i class="fab fa-whatsapp"></i> MESSAGES</div>
                <div>now</div>
            </div>
            <div class="notif-content">
                <h3>Avuyile Mthembu</h3>
                <p>Sent you a surprise box... üéÅ</p>
            </div>
            <button class="notif-btn" id="btn-open-notif">View Message</button>
        </div>
    </div>

    <div id="scene-gift" class="layer hidden">
        <div class="cube-container" id="gift-box">
            <div class="cube-face face-front">
                <div class="ribbon-v"></div>
            </div>
            <div class="cube-face face-back">
                <div class="ribbon-v"></div>
            </div>
            <div class="cube-face face-right"></div>
            <div class="cube-face face-left"></div>
            <div class="cube-face face-top">
                <div class="ribbon-h"></div>
                <div class="ribbon-v"></div>
            </div>
            <div class="cube-face face-bottom"></div>
        </div>
        <div class="instruction">Tap to Open</div>
    </div>

    <div id="scene-dashboard" class="layer hidden">
        <div class="main-title">Ngelosi Yami</div>
        <div class="subtitle">My Angel, My World.</div>

        <div class="menu-grid">
            <div class="menu-card" onclick="navTo('calendar')">
                <div class="menu-icon"><i class="far fa-calendar-alt"></i></div>
                <div class="menu-text">Our Journey</div>
            </div>
            <div class="menu-card" onclick="navTo('gallery')">
                <div class="menu-icon"><i class="fas fa-heart"></i></div>
                <div class="menu-text">My Heart</div>
            </div>
        </div>
    </div>

    <div id="scene-calendar" class="layer hidden">
        <button class="back-btn" onclick="navTo('dashboard')"><i class="fas fa-arrow-left"></i></button>

        <div style="text-align: center; margin-bottom: 20px;">
            <h2 style="font-family:'Great Vibes'; font-size: 2.5rem;">The Timeline</h2>
            <p style="font-size: 0.9rem; opacity: 0.7;">Since Nov 19, 2025</p>
        </div>

        <div class="cal-container">
            <div class="cal-header">
                <i class="fas fa-chevron-left" onclick="changeMonth(-1)"></i>
                <span id="cal-month-year" style="font-weight: bold;">November 2025</span>
                <i class="fas fa-chevron-right" onclick="changeMonth(1)"></i>
            </div>
            <div class="cal-grid" id="cal-days-header">
            </div>
            <div class="cal-grid" id="cal-days-body" style="margin-top: 10px;">
            </div>
        </div>

        <div class="future-note hidden" id="future-note">
            <div class="note-title" id="future-note-title">More memories are coming‚Ä¶</div>
            <div class="note-text" id="future-note-text">
                This month is still quiet, not because nothing matters ‚Äî but because the next chapters are still waiting
                for us.
                I‚Äôm looking forward to filling these empty dates with real moments, real laughs, real ‚Äúus‚Äù.
                Until then, just know: I‚Äôm still choosing you‚Ä¶ today, tomorrow, and every day after that. ‚ù§Ô∏è
            </div>
        </div>

    </div>

    <div class="modal" id="event-modal">
        <div class="modal-card">
            <div style="color:var(--primary); font-weight:bold; margin-bottom:10px;" id="modal-date">Date</div>
            <h2 style="font-family:'Great Vibes'; font-size:2rem; margin-bottom:15px;" id="modal-title">Title</h2>
            <p style="font-size:0.95rem; line-height:1.5; color:#555;" id="modal-desc">Description</p>
            <button onclick="closeModal()"
                style="margin-top:20px; background:var(--primary); color:white; border:none; padding:8px 25px; border-radius:20px;">Close</button>
        </div>
    </div>

    <div id="scene-gallery" class="layer hidden">
        <button class="back-btn" onclick="navTo('dashboard')"><i class="fas fa-arrow-left"></i></button>

        <div class="gallery-card">
            <img src="https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=1000" id="gallery-img"
                class="polaroid" alt="Us">
            <div class="type-text" id="gallery-text"></div>
            <button class="next-btn" onclick="nextSlide()">Next Memory</button>
        </div>
    </div>

    <script>
        // --- DATA ---
        // CALENDAR EVENTS (From your provided history)
        const events = {
            "2025-11-19": { title: "The Beginning", desc: "I got your number for the first time. I was so excited to finally be able to contact you." },
            "2025-11-20": { title: "Movie Check", desc: "We checked out trailers and picked a movie to watch at Pavilion Numetro." },
            "2025-11-21": { title: "First Date", desc: "Our first date. I was nervous, but it felt magical. I pushed through my fear to tell you how I felt." },
            "2025-11-22": { title: "The Stroll", desc: "A simple walk to Southway Mall. Drinks, KFC, and just us getting closer." },
            "2025-11-23": { title: "First Kiss", desc: "Suncoast. Arcade games, doughnuts, and our first kiss. It felt unreal." },
            "2025-11-24": { title: "00:05 AM", desc: "You came to my room. An intimate milestone where I realized how deeply I'd fallen for you." },
            "2025-11-25": { title: "Choosing Us", desc: "I walked you to town for Umlazi. Later, we chose each other again." },
            "2025-12-11": { title: "Your 20th", desc: "Celebrating your 20th birthday. Even from afar, I wanted it to be special." },
            "2026-01-01": { title: "New Year", desc: "Distance didn't matter. We kept choosing each other." }
        };

        // GALLERY MESSAGES (Romance & Clan Names)
        const slides = [
            { img: "images/babe.jpg", text: "To my beautiful Queen, my Angel‚Ä¶ this is a piece of my heart, written just for you. ‚ù§Ô∏è" },
            { img: "images/babe1.jpg", text: "Every moment with you feels like magic. I miss you deeply. You are my clarity, MaMdunge." },
            { img: "images/babe2.jpg", text: "S‚Äôthandwa sami, when you smile, everything else fades awayü•∞ü§≠." },
            { img: "images/babe3.jpg", text: "I love you! Beyond words, beyond code, beyond infinity itself." },
            { img: "images/babe4.jpeg", text: "You are my favorite notification, my always, my forever‚Ä¶ MaChiliza wami. üå∏" }
        ];


        // --- NAVIGATION LOGIC ---
        const audio = document.getElementById('bg-music');
        let currentMonth = 10; // Nov (0-index)
        let currentYear = 2025; // Start at the beginning of relationship
        let slideIndex = 0;

        // 1. Open Notification
        document.getElementById('btn-open-notif').addEventListener('click', () => {
            audio.volume = 0.5;
            audio.play().catch(e => console.log("Audio requires interaction"));

            gsap.to('#scene-notification', {
                opacity: 0, duration: 0.5, onComplete: () => {
                    document.getElementById('scene-notification').classList.add('hidden');
                    document.getElementById('scene-gift').classList.remove('hidden');
                    gsap.fromTo('#scene-gift', { opacity: 0 }, { opacity: 1, duration: 1 });
                }
            });
        });

        // 2. Open Gift Box
        document.getElementById('gift-box').addEventListener('click', () => {
            const tl = gsap.timeline();
            // Spin box violently then explode
            tl.to('.cube-container', { rotationY: 720, rotationX: 720, scale: 0.1, duration: 1, ease: "back.in(2)" })
                .to('#scene-gift', {
                    opacity: 0, duration: 0.5, onComplete: () => {
                        document.getElementById('scene-gift').classList.add('hidden');
                        navTo('dashboard');
                    }
                });
        });

        // 3. Navigation System
        function navTo(sceneName) {
            // Hide all layers (except world)
            document.querySelectorAll('.layer').forEach(el => {
                if (el.id !== 'scene-notification' && el.id !== 'scene-gift') {
                    el.classList.add('hidden');
                    el.style.opacity = 0;
                }
            });

            const target = document.getElementById(`scene-${sceneName}`);
            target.classList.remove('hidden');
            gsap.to(target, { opacity: 1, duration: 0.8 });

            if (sceneName === 'calendar') renderCalendar();
            if (sceneName === 'gallery') loadSlide(0);
        }

        // --- CALENDAR LOGIC ---
        const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

        function renderCalendar() {
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const grid = document.getElementById('cal-days-body');
            document.getElementById('cal-month-year').innerText = `${monthNames[currentMonth]} ${currentYear}`;

            grid.innerHTML = "";

            // Headers (SMTWTFS)
            const daysHeader = document.getElementById('cal-days-header');
            if (daysHeader.innerHTML.trim() === "") {
                ['S', 'M', 'T', 'W', 'T', 'F', 'S'].forEach(d => {
                    const el = document.createElement('div');
                    el.className = 'cal-day-name';
                    el.innerText = d;
                    daysHeader.appendChild(el);
                });
            }

            // Empty slots
            for (let i = 0; i < firstDay; i++) {
                grid.appendChild(document.createElement('div'));
            }

            // Days
            for (let i = 1; i <= daysInMonth; i++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'cal-day';
                dayEl.innerText = i;

                const dateKey = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;

                if (events[dateKey]) {
                    dayEl.classList.add('has-event');
                    dayEl.onclick = () => openModal(dateKey);
                }

                grid.appendChild(dayEl);
            }
            updateFutureNote();

        }

        function changeMonth(dir) {
            currentMonth += dir;
            if (currentMonth > 11) { currentMonth = 0; currentYear++; }
            if (currentMonth < 0) { currentMonth = 11; currentYear--; }
            renderCalendar();
        }

        function openModal(dateKey) {
            const ev = events[dateKey];
            document.getElementById('modal-date').innerText = new Date(dateKey).toDateString();
            document.getElementById('modal-title').innerText = ev.title;
            document.getElementById('modal-desc').innerText = ev.desc;
            document.getElementById('event-modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('event-modal').classList.remove('active');
        }

        // --- GALLERY LOGIC ---
        function loadSlide(idx) {
            const img = document.getElementById('gallery-img');
            const txt = document.getElementById('gallery-text');

            gsap.to([img, txt], {
                opacity: 0, duration: 0.3, onComplete: () => {
                    img.src = slides[idx].img;
                    txt.innerText = slides[idx].text;
                    gsap.to([img, txt], { opacity: 1, duration: 0.5 });
                }
            });
        }

        function nextSlide() {
            slideIndex = (slideIndex + 1) % slides.length;

            // Shake effect
            gsap.fromTo('.gallery-card', { x: -5 }, { x: 5, duration: 0.1, repeat: 3, yoyo: true, clearProps: "x" });

            loadSlide(slideIndex);
            createFlowerBurst();
        }

        function createFlowerBurst() {
            const emojis = ['‚ù§Ô∏è', 'üå∏', '‚ú®'];
            for (let i = 0; i < 10; i++) {
                const el = document.createElement('div');
                el.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                el.style.position = 'fixed';
                el.style.left = '50%';
                el.style.top = '50%';
                el.style.fontSize = '20px';
                el.style.pointerEvents = 'none';
                el.style.zIndex = '200';
                document.body.appendChild(el);

                const destX = (Math.random() - 0.5) * 300;
                const destY = (Math.random() - 0.5) * 300;

                gsap.to(el, { x: destX, y: destY, opacity: 0, duration: 1.5, onComplete: () => el.remove() });
            }
        }

        function monthHasEvents(year, monthIndex) {
            // monthIndex is 0-11
            const monthStr = String(monthIndex + 1).padStart(2, '0');
            const prefix = `${year}-${monthStr}-`;
            return Object.keys(events).some(k => k.startsWith(prefix));
        }

        function updateFutureNote() {
            const noteWrap = document.getElementById('future-note');
            const noteTitle = document.getElementById('future-note-title');
            const noteText = document.getElementById('future-note-text');
            if (!noteWrap || !noteTitle || !noteText) return;

            const has = monthHasEvents(currentYear, currentMonth);

            if (has) {
                noteWrap.classList.add('hidden');
                return;
            }

            const monthLabel = `${monthNames[currentMonth]} ${currentYear}`;

            noteTitle.innerText = `${monthLabel} is still waiting for us‚Ä¶`;
            noteText.innerText =
                `There are no memories saved here yet, not because we‚Äôre missing something,
but because the next chapters are still ahead of us.

I can‚Äôt wait to turn these blank dates into real moments:
a day together, a kiss, a laugh, a ‚Äúwe made it‚Äù kind of memory.

Until then‚Ä¶ I‚Äôm still choosing you, today, tomorrow, and every day after that. ‚ù§Ô∏è`;

            noteWrap.classList.remove('hidden');
        }


        // --- THREE.JS BACKGROUND (The Heart Particles) ---
        function initThreeJS() {
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('world'), alpha: true });

            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            const geometry = new THREE.BufferGeometry();
            const count = 1500;
            const pos = new Float32Array(count * 3);

            for (let i = 0; i < count; i++) {
                // Heart shape math
                const t = Math.random() * Math.PI * 2;
                let x = 16 * Math.pow(Math.sin(t), 3);
                let y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);
                let z = (Math.random() - 0.5) * 4;

                // Scale down
                x *= 0.25; y *= 0.25;

                // Scatter
                x += (Math.random() - 0.5) * 0.5;
                y += (Math.random() - 0.5) * 0.5;

                pos[i * 3] = x;
                pos[i * 3 + 1] = y;
                pos[i * 3 + 2] = z;
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(pos, 3));
            const material = new THREE.PointsMaterial({ size: 0.05, color: 0xff4d6d, transparent: true, opacity: 0.8, blending: THREE.AdditiveBlending });
            const mesh = new THREE.Points(geometry, material);
            scene.add(mesh);

            camera.position.z = 12;

            function animate() {
                requestAnimationFrame(animate);
                mesh.rotation.y += 0.003;

                // Heartbeat
                const time = Date.now() * 0.001;
                const scale = 1 + Math.sin(time * 2) * 0.05;
                mesh.scale.set(scale, scale, scale);

                renderer.render(scene, camera);
            }
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        initThreeJS();

    </script>
</body>

</html>
