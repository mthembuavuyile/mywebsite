<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Nosipho ‚ù§Ô∏è</title>
    <style>
        /* --- CSS STYLES --- */
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&display=swap');

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #fff5f5 0%, #ffe3e3 100%);
            font-family: 'Fredoka', sans-serif;
            overflow: hidden;
            text-align: center;
            flex-direction: column;
        }

        .container {
            position: relative;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(255, 75, 75, 0.15);
            max-width: 90%;
            width: 400px;
            backdrop-filter: blur(5px);
            border: 2px solid #fff;
            transition: all 0.3s ease;
        }

        h1 {
            color: #ff4b4b;
            font-size: 2rem;
            margin-bottom: 10px;
            line-height: 1.2;
        }

        p {
            color: #7a7a7a;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        /* GIF Styling */
        .gif-container img {
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-height: 250px; /* Slightly taller for the specific GIF */
            object-fit: cover;
            margin-bottom: 15px;
        }

        /* Buttons & Grid */
        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            position: relative; /* For button movement */
            min-height: 60px;
        }

        .grid-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 25px;
            font-size: 1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-family: 'Fredoka', sans-serif;
            font-weight: 600;
        }

        .btn-primary {
            background-color: #ff4b4b;
            color: white;
            box-shadow: 0 4px 10px rgba(255, 75, 75, 0.4);
        }

        .btn-primary:hover {
            transform: scale(1.05);
            background-color: #ff2e2e;
        }

        .btn-secondary {
            background-color: #fff;
            color: #555;
            border: 2px solid #eee;
        }

        .btn-secondary:hover {
            border-color: #ff4b4b;
            color: #ff4b4b;
            transform: translateY(-2px);
        }

        .btn-selected {
            background-color: #ff4b4b;
            color: white;
            border-color: #ff4b4b;
            transform: scale(1.05);
        }

        /* Moving No Button */
        .moving-btn {
            background-color: #e0e0e0;
            color: #333;
            position: absolute; /* Changed to absolute within container initially */
            transition: top 0.1s, left 0.1s; /* Faster transition for movement */
        }

        /* Inputs */
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #eee;
            margin-top: 10px;
            font-family: 'Fredoka', sans-serif;
            box-sizing: border-box;
        }
        input[type="text"]:focus {
            outline: none;
            border-color: #ff4b4b;
        }

        /* Confetti */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            animation: fall linear forwards;
            z-index: 100;
        }

        @keyframes fall {
            to { transform: translateY(100vh) rotate(720deg); }
        }

        /* Step Visibility */
        .step {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <!-- Audio Effects -->
    <audio id="popSound" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
    <audio id="yaySound" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>

    <div class="container">
        
        <!-- STEP 0: Do you love me? -->
        <div id="step0" class="step active">
            <div class="gif-container">
                <img src="https://media4.giphy.com/media/v1.Y2lkPWVjZjA1ZTQ3ZnNlcXNuZjNjbzl6aG5xNTQ2NHFweGpraGc2cGE5cTd6M285NGtxeCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/2qSmBcOHmcdmEWqqP5/200.webp" alt="Panda rolling">
            </div>
            <h1>Do you love me?</h1>
            <p>Nosipho, my favorite person? ü•∫</p>
            <div class="buttons">
                <button class="btn-primary" onclick="loveConfirmed()">Yes, I do! ‚ù§Ô∏è</button>
                <button id="noBtn1" class="moving-btn" onmouseover="moveButton('noBtn1')" onclick="moveButton('noBtn1')">No</button>
            </div>
        </div>

        <!-- STEP 0.5: Love Response -->
        <div id="step0_5" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3Z0ZnZ5eXl4bnl5eXl4biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/26FLdmIp6wJr91JAI/giphy.gif" alt="Happy reaction">
            </div>
            <h1>I know right,<br>I love you too! ‚ù§Ô∏è</h1>
            <p>Hehe, I knew it! Now I have a question...</p>
            <button class="btn-primary" onclick="nextStep(1)">Ask me! ‚ûú</button>
        </div>

        <!-- STEP 1: The Ask -->
        <div id="step1" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExajN4eG82bnl5aGZ4eXE4bmN4c3l5bTlrN3V4cnZ5eXl4bnl5eXl4biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/cLS1cfxvGOPVpf9g3y/giphy.gif" alt="Cute bear">
            </div>
            <h1>Will you go on a date with me?</h1>
            <p>I promise it'll be fun! üåπ</p>
            <div class="buttons">
                <button class="btn-primary" onclick="nextStep(2)">Yes, absolutely!</button>
                <button id="noBtn2" class="moving-btn" onmouseover="moveButton('noBtn2')" onclick="moveButton('noBtn2')">No</button>
            </div>
        </div>

        <!-- STEP 2: Location -->
        <div id="step2" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExemVrbm9zZmxnMTdod3A2cjF1dXYwYjBudXd6Y3oxdm5renI2YXduOSZlcD12MV9naWZzX3NlYXJjaCZjdD1n/Qs1ff4J11YUpJDmX3w/giphy.gif" alt="Travel bear">
            </div>
            <h1>Where should we go?</h1>
            <div class="grid-options">
                <button class="btn-secondary" onclick="selectOption('location', 'Umhlanga')">Umhlanga</button>
                <button class="btn-secondary" onclick="selectOption('location', 'Florida Rd')">Florida Rd</button>
                <button class="btn-secondary" onclick="selectOption('location', 'Suncoast')">Suncoast</button>
                <button class="btn-secondary" onclick="selectOption('location', 'Durban Central')">Durban Central</button>
                <button class="btn-secondary" onclick="selectOption('location', 'Musgrave')">Musgrave</button>
            </div>
            <input type="text" id="customLocation" placeholder="Or somewhere else? (Type name)">
            <br><br>
            <button class="btn-primary" onclick="validateLocation()">Next ‚ûú</button>
        </div>

        <!-- STEP 3: Food -->
        <div id="step3" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3Z0ZnZ5eXl4bnl5eXl4biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/13CoXDiaCcCoyk/giphy.gif" alt="Eating bear">
            </div>
            <h1>What are we eating?</h1>
            <div class="grid-options" id="foodOptions">
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Chicken üçó</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Burger üçî</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Pizza üçï</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Pasta üçù</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Seafood üç§</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'food')">Steak ü•©</button>
            </div>
            <button class="btn-primary" onclick="nextStep(4)">Next ‚ûú</button>
        </div>

        <!-- STEP 4: Activities -->
        <div id="step4" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3Z0ZnZ5eXl4bnl5eXl4biZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9cw/JIX9t2j0ZTN9S/giphy.gif" alt="Activity bear">
            </div>
            <h1>What are we doing?</h1>
            <div class="grid-options" id="activityOptions">
                <button class="btn-secondary" onclick="toggleSelection(this, 'activity')">Go to Beach üèñÔ∏è</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'activity')">Movies üçø</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'activity')">Get Ice Cream üç¶</button>
                <button class="btn-secondary" onclick="toggleSelection(this, 'activity')">Iced Coffee üßã</button>
            </div>
            <button class="btn-primary" onclick="finishSteps()">Finish! ‚ù§Ô∏è</button>
        </div>

        <!-- STEP 5: Success -->
        <div id="step5" class="step">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZGgyNHlyaHRwdWczbHNxZ2JvczY0a3pvODljeW90azQ1NXlneW4wMiZlcD12MV9naWZzX3NlYXJjaCZjdD1n/KmxmoHUGPDjfQXqGgv/giphy.gif" alt="Kiss">
            </div>
            <h1>YAY! It's a date! ‚ù§Ô∏è</h1>
            <p>Send me the plan on WhatsApp, Nosipho!</p>
            <button id="whatsappBtn" class="btn-primary" onclick="sendToWhatsapp()">Send Message üí¨</button>
        </div>

    </div>

    <script>
        // Store selections
        let dateData = {
            location: '',
            food: [],
            activities: []
        };

        const popSound = document.getElementById('popSound');
        const yaySound = document.getElementById('yaySound');

        function playSound() {
            popSound.currentTime = 0;
            popSound.play().catch(e => console.log("Audio play failed, user interaction needed"));
        }

        // --- Step 0 Logic ---
        function loveConfirmed() {
            playSound();
            createConfetti();
            
            // Go to the "I love you too" text response
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            document.getElementById('step0_5').classList.add('active');
        }

        // --- Move Button Logic (For both No buttons) ---
        function moveButton(btnId) {
            const noBtn = document.getElementById(btnId);
            
            // Calculate random positions within viewport
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - 40);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - 40);
            
            noBtn.style.position = 'fixed'; 
            noBtn.style.left = `${Math.max(20, x)}px`;
            noBtn.style.top = `${Math.max(20, y)}px`;
            
            playSound();
        }

        // --- Navigation ---
        function nextStep(stepNumber) {
            playSound();
            
            // Hide all steps
            document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
            
            // Show current step
            const nextStepEl = document.getElementById(`step${stepNumber}`);
            nextStepEl.classList.add('active');

            if(stepNumber === 2) createConfetti();
        }

        // --- Selection Logic (Single) ---
        function selectOption(type, value) {
            playSound();
            if(type === 'location') {
                dateData.location = value;
                // Visual feedback
                let btns = document.querySelectorAll('#step2 .btn-secondary');
                btns.forEach(btn => btn.classList.remove('btn-selected'));
                event.target.classList.add('btn-selected');
                document.getElementById('customLocation').value = ''; 
            }
        }

        function validateLocation() {
            const customLoc = document.getElementById('customLocation').value;
            if(customLoc.trim() !== "") {
                dateData.location = customLoc;
            }
            if(dateData.location === '') {
                alert("Please pick a place, Nosipho! ü•∫");
                return;
            }
            nextStep(3);
        }

        // --- Selection Logic (Multi) ---
        function toggleSelection(btn, type) {
            playSound();
            btn.classList.toggle('btn-selected');
            const value = btn.innerText;

            if(type === 'food') {
                if(dateData.food.includes(value)) {
                    dateData.food = dateData.food.filter(item => item !== value);
                } else {
                    dateData.food.push(value);
                }
            } else if (type === 'activity') {
                if(dateData.activities.includes(value)) {
                    dateData.activities = dateData.activities.filter(item => item !== value);
                } else {
                    dateData.activities.push(value);
                }
            }
        }

        // --- Final Step ---
        function finishSteps() {
            nextStep(5);
            yaySound.play();
            createConfetti();
            createConfetti(); 
        }

        function sendToWhatsapp() {
            const phoneNumber = "27648784287";
            
            let message = `Hey! Nosipho here. I said YES to the date! ‚ù§Ô∏è\n\n`;
            message += `üìç Location: ${dateData.location}\n`;
            message += `üçî Food: ${dateData.food.join(', ') || 'Surprise me'}\n`;
            message += `üé¢ Activity: ${dateData.activities.join(', ') || 'Just chilling'}\n\n`;
            message += `I love you too! üòò`;

            const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            window.open(url, '_blank');
        }

        // --- Visual Effects ---
        function createConfetti() {
            const colors = ['#ff4b4b', '#ffb14b', '#4bff6e', '#4bb1ff', '#e04bff'];
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = -10 + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDuration = Math.random() * 2 + 2 + 's';
                document.body.appendChild(confetti);

                setTimeout(() => confetti.remove(), 4000);
            }
        }
    </script>
</body>
</html>
